'use strict';function _0x451c(){const _0x1987b2=['9EXIZXO','4245143OUMcPZ','5civKTG','BAD_REQUEST','baiduFanyiSecret','baiduFanyiAppId','4332070yzFlJf','翻译失败[','function','metadata','3494562fuLKcA','decorate','444504sUSYMM','HttpStatus','dst','__esModule','hex','6IDHGcp','now','当前管理员还未开放翻译服务、请联系管理员开通吧!','default','globalConfigService','请输入要翻译的内容!','md5','crypto','HttpException','__metadata','axios','Injectable','toString','7864692KcFxqU','length','convertToEnglish','634373nNzEYd','8kHzBbQ','14189136ROBuzG','application/x-www-form-urlencoded','object','defineProperty','getOwnPropertyDescriptor','FanyiService','./../globalConfig/globalConfig.service','2gjlzyL','GlobalConfigService','auto','post'];_0x451c=function(){return _0x1987b2;};return _0x451c();}const _0x1a7fb6=_0x4f0e;(function(_0x1a4286,_0x26e9b8){const _0x109498=_0x4f0e,_0xe169e2=_0x1a4286();while(!![]){try{const _0xd1c6a1=-parseInt(_0x109498(0x17d))/0x1*(-parseInt(_0x109498(0x186))/0x2)+parseInt(_0x109498(0x19b))/0x3*(parseInt(_0x109498(0x196))/0x4)+parseInt(_0x109498(0x18c))/0x5*(-parseInt(_0x109498(0x194))/0x6)+parseInt(_0x109498(0x18b))/0x7*(-parseInt(_0x109498(0x17e))/0x8)+-parseInt(_0x109498(0x18a))/0x9*(-parseInt(_0x109498(0x190))/0xa)+-parseInt(_0x109498(0x1a8))/0xb+parseInt(_0x109498(0x17f))/0xc;if(_0xd1c6a1===_0x26e9b8)break;else _0xe169e2['push'](_0xe169e2['shift']());}catch(_0x2dfc7a){_0xe169e2['push'](_0xe169e2['shift']());}}}(_0x451c,0x8ac5c));var __decorate=this&&this['__decorate']||function(_0x177b09,_0x2684ea,_0x5922f5,_0x480dfd){const _0x5ae766=_0x4f0e;var _0x381041=arguments[_0x5ae766(0x1a9)],_0x149063=_0x381041<0x3?_0x2684ea:_0x480dfd===null?_0x480dfd=Object[_0x5ae766(0x183)](_0x2684ea,_0x5922f5):_0x480dfd,_0x3ef757;if(typeof Reflect===_0x5ae766(0x181)&&typeof Reflect[_0x5ae766(0x195)]==='function')_0x149063=Reflect[_0x5ae766(0x195)](_0x177b09,_0x2684ea,_0x5922f5,_0x480dfd);else{for(var _0x1598f1=_0x177b09[_0x5ae766(0x1a9)]-0x1;_0x1598f1>=0x0;_0x1598f1--)if(_0x3ef757=_0x177b09[_0x1598f1])_0x149063=(_0x381041<0x3?_0x3ef757(_0x149063):_0x381041>0x3?_0x3ef757(_0x2684ea,_0x5922f5,_0x149063):_0x3ef757(_0x2684ea,_0x5922f5))||_0x149063;}return _0x381041>0x3&&_0x149063&&Object['defineProperty'](_0x2684ea,_0x5922f5,_0x149063),_0x149063;},__metadata=this&&this[_0x1a7fb6(0x1a4)]||function(_0xd0183a,_0x49d73e){const _0x402ace=_0x1a7fb6;if(typeof Reflect==='object'&&typeof Reflect[_0x402ace(0x193)]===_0x402ace(0x192))return Reflect[_0x402ace(0x193)](_0xd0183a,_0x49d73e);};function _0x4f0e(_0x334f91,_0x5ead49){const _0x451c13=_0x451c();return _0x4f0e=function(_0x4f0ed4,_0x355d3c){_0x4f0ed4=_0x4f0ed4-0x17c;let _0x5ae19b=_0x451c13[_0x4f0ed4];return _0x5ae19b;},_0x4f0e(_0x334f91,_0x5ead49);}Object[_0x1a7fb6(0x182)](exports,_0x1a7fb6(0x199),{'value':!![]}),exports[_0x1a7fb6(0x184)]=void 0x0;const globalConfig_service_1=require(_0x1a7fb6(0x185)),common_1=require('@nestjs/common'),axios_1=require(_0x1a7fb6(0x1a5)),crypto=require(_0x1a7fb6(0x1a2));let FanyiService=class FanyiService{constructor(_0xdad817){const _0x2103b0=_0x1a7fb6;this[_0x2103b0(0x19f)]=_0xdad817;}async[_0x1a7fb6(0x17c)](_0x54fd58){const _0x4decba=_0x1a7fb6;if(!_0x54fd58)throw new common_1['HttpException'](_0x4decba(0x1a0),common_1[_0x4decba(0x197)][_0x4decba(0x18d)]);const {baiduFanyiAppId:_0x2ed66b,baiduFanyiSecret:_0x310f49}=await this[_0x4decba(0x19f)]['getConfigs']([_0x4decba(0x18f),_0x4decba(0x18e)]);if(!_0x2ed66b||!_0x310f49)throw new common_1['HttpException'](_0x4decba(0x19d),common_1[_0x4decba(0x197)][_0x4decba(0x18d)]);const _0x3927f5=Date[_0x4decba(0x19c)]()['toString'](),_0x73d0eb=crypto['createHash'](_0x4decba(0x1a1))['update'](_0x2ed66b+_0x54fd58+_0x3927f5+_0x310f49)['digest'](_0x4decba(0x19a)),_0x89078f='https://fanyi-api.baidu.com/api/trans/vip/translate',_0x3a428a={'q':_0x54fd58[_0x4decba(0x1a7)](),'from':_0x4decba(0x188),'to':'en','appid':_0x2ed66b,'salt':_0x3927f5,'sign':_0x73d0eb},_0x56852c=await axios_1[_0x4decba(0x19e)][_0x4decba(0x189)](_0x89078f,_0x3a428a,{'headers':{'Content-Type':_0x4decba(0x180)}}),{from:_0x35cd20,to:_0x4a9394,trans_result:_0x16a1c0,error_code:_0x27694f,error_msg:_0x4a2f50}=_0x56852c['data'];if(_0x27694f)throw new common_1[(_0x4decba(0x1a3))](_0x4decba(0x191)+_0x27694f+']['+_0x4a2f50+']!',common_1[_0x4decba(0x197)][_0x4decba(0x18d)]);if(!_0x16a1c0||!_0x16a1c0[_0x4decba(0x1a9)])throw new common_1[(_0x4decba(0x1a3))](_0x4decba(0x191)+_0x27694f+']['+_0x4a2f50+']!',common_1['HttpStatus'][_0x4decba(0x18d)]);else return _0x16a1c0[0x0][_0x4decba(0x198)];return _0x16a1c0;}};FanyiService=__decorate([(0x0,common_1[_0x1a7fb6(0x1a6)])(),__metadata('design:paramtypes',[globalConfig_service_1[_0x1a7fb6(0x187)]])],FanyiService),exports[_0x1a7fb6(0x184)]=FanyiService;