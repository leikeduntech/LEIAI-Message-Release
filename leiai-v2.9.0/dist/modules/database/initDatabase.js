'use strict';const _0x48fc47=_0x19b8;(function(_0x22a093,_0x4a19b7){const _0x1dd496=_0x19b8,_0x32b422=_0x22a093();while(!![]){try{const _0x19e62a=-parseInt(_0x1dd496(0xb5))/0x1+parseInt(_0x1dd496(0xcd))/0x2*(parseInt(_0x1dd496(0xe1))/0x3)+parseInt(_0x1dd496(0xe0))/0x4+-parseInt(_0x1dd496(0xe2))/0x5*(-parseInt(_0x1dd496(0xd0))/0x6)+-parseInt(_0x1dd496(0xce))/0x7*(parseInt(_0x1dd496(0xc0))/0x8)+-parseInt(_0x1dd496(0xb0))/0x9*(parseInt(_0x1dd496(0xb1))/0xa)+parseInt(_0x1dd496(0xca))/0xb;if(_0x19e62a===_0x4a19b7)break;else _0x32b422['push'](_0x32b422['shift']());}catch(_0x475abf){_0x32b422['push'](_0x32b422['shift']());}}}(_0x29ee,0x868b4));Object[_0x48fc47(0xb6)](exports,_0x48fc47(0xdf),{'value':!![]}),exports[_0x48fc47(0xb4)]=exports[_0x48fc47(0xbc)]=void 0x0;const mysql=require(_0x48fc47(0xbe)),common_1=require('@nestjs/common'),os=require('os'),fetch=require('isomorphic-fetch');function _0x29ee(){const _0x13e550=['json','CREATE\x20DATABASE\x20','execute','Logger','=====','application/json','createConnection','length','SHOW\x20DATABASES\x20LIKE\x20\x27','未在env配置您的授权秘钥、授权失败!!！','networkInterfaces','keys','__esModule','3222304hSfnCn','2411754iNUFXe','66410lcBjhb','27XxETLy','512680ATqxdp','DB_HOST','未在env配置您的授权IP、授权失败!!！','leiAiInit','342091jKvzLU','defineProperty','log','DB_PORT','family','forEach','error:\x20','initDatabase','LEIAI_KEY','mysql2/promise','address','5768pNiWmg','https://api.jiangly.com/api/permission/auth','LeiAI\x20授权认证','获取失败了...','isArray','感谢使用雷AI、服务已启动.......','InitDatabase','您的服务器授权IP地址为：\x20[','internal','DB_USER','3184764fAMsUm','IPv4','DB_DATABASE','2CPfFpI','8659bvjckO','初始化创建数据库成功、数据库名为[','18hQSFnE','data','env'];_0x29ee=function(){return _0x13e550;};return _0x29ee();}function initDatabase(){const _0x3321ba=_0x48fc47;mysql[_0x3321ba(0xd9)]({'host':process[_0x3321ba(0xd2)][_0x3321ba(0xb2)],'user':process[_0x3321ba(0xd2)][_0x3321ba(0xc9)],'password':process[_0x3321ba(0xd2)]['DB_PASS'],'port':parseInt(process[_0x3321ba(0xd2)][_0x3321ba(0xb8)])})['then'](async _0x2bb0f3=>{const _0x3d255d=_0x3321ba,[_0x4c2678]=await _0x2bb0f3[_0x3d255d(0xd5)](_0x3d255d(0xdb)+process[_0x3d255d(0xd2)][_0x3d255d(0xcc)]+'\x27');Array[_0x3d255d(0xc4)](_0x4c2678)&&_0x4c2678[_0x3d255d(0xda)]===0x0&&(await _0x2bb0f3[_0x3d255d(0xd5)](_0x3d255d(0xd4)+process[_0x3d255d(0xd2)]['DB_DATABASE']),common_1['Logger'][_0x3d255d(0xb7)](_0x3d255d(0xcf)+process['env']['DB_DATABASE']+']',_0x3d255d(0xc6))),await _0x2bb0f3['end']();});}exports['initDatabase']=initDatabase;async function leiAiInit(){const _0x460d7a=_0x48fc47;let _0xed5e4;const _0x423195=os[_0x460d7a(0xdd)]();Object[_0x460d7a(0xde)](_0x423195)[_0x460d7a(0xba)](_0x17e25a=>{const _0x5d1d30=_0x460d7a,_0x5810b3=_0x423195[_0x17e25a];for(let _0x3d9c13=0x0;_0x3d9c13<_0x5810b3[_0x5d1d30(0xda)];_0x3d9c13++){const _0x26287a=_0x5810b3[_0x3d9c13];if(_0x26287a[_0x5d1d30(0xb9)]===_0x5d1d30(0xcb)&&_0x26287a['address']!=='127.0.0.1'&&!_0x26287a[_0x5d1d30(0xc8)]){_0xed5e4=_0x26287a[_0x5d1d30(0xbf)];break;}}});const _0x6f63d8=process[_0x460d7a(0xd2)]['LEIAI_HOST'];common_1[_0x460d7a(0xd6)][_0x460d7a(0xb7)](_0x460d7a(0xc7)+(_0x6f63d8||_0x460d7a(0xc3))+']',_0x460d7a(0xc2));if(!_0x6f63d8)return{'success':![],'message':_0x460d7a(0xb3)};const _0x3879c6=process[_0x460d7a(0xd2)][_0x460d7a(0xbd)];if(!_0x3879c6)return{'success':![],'message':_0x460d7a(0xdc)};const _0x17c826={'ip':_0x6f63d8,'key':_0x3879c6},_0x1daa3e={'method':'POST','headers':{'Content-Type':_0x460d7a(0xd8)},'body':JSON['stringify'](_0x17c826)};console[_0x460d7a(0xb7)](_0x460d7a(0xd7));try{const _0x617ba7=await fetch(_0x460d7a(0xc1),_0x1daa3e);console[_0x460d7a(0xb7)](0x1);const _0x1899a0=await _0x617ba7[_0x460d7a(0xd3)](),{success:_0xd777,message:_0x73d257}=_0x1899a0[_0x460d7a(0xd1)];console[_0x460d7a(0xb7)](0x2);return{'success':_0xd777,'message':_0x73d257};return _0x1899a0;}catch(_0x29dd14){return console[_0x460d7a(0xb7)](_0x460d7a(0xbb),_0x29dd14),console[_0x460d7a(0xb7)](0x3),{'success':!![],'message':_0x460d7a(0xc5)};}}function _0x19b8(_0x4961b0,_0x22aa41){const _0x29eed1=_0x29ee();return _0x19b8=function(_0x19b873,_0x13866c){_0x19b873=_0x19b873-0xb0;let _0x172892=_0x29eed1[_0x19b873];return _0x172892;},_0x19b8(_0x4961b0,_0x22aa41);}exports[_0x48fc47(0xb4)]=leiAiInit;